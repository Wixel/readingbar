(function(a){a.fn.viewportOffset=function(){return{top:a(this).offset().top+a(window).scrollTop()}};a.fn.readingbar=function(d){!1===0<a(".read-bar").length&&(settings=a.extend({},{backgroundColor:"#50E3C2",height:4,counter:!0},d),a('<div class="read-bar"></div>').appendTo("body"),a(".read-bar").css({position:"fixed",bottom:"0",left:"0",width:"0",maxWidth:"100%"}),a(".read-bar").css({height:settings.height+"px",backgroundColor:settings.backgroundColor}),settings.counter&&(a('<span class="read-text"></span>').appendTo("body"),
a(".read-text").css({position:"fixed",bottom:settings.height+"px",left:"0",width:10*settings.height+"px",marginLeft:"-"+10*settings.height+"px",textAlign:"right",color:settings.backgroundColor,fontSize:5*settings.height+"px"})));_=a(this);var c=_.outerHeight(),e=1.65*_.offset().top,b=0;a(document).on("scroll",function(){c=_.outerHeight();b=(_.viewportOffset().top-e)/c*100;a(".read-bar").css("width",b+"%");a(".read-text").css("left",b+"%");100<b?a(".read-bar, .read-text").css("opacity","0"):(a(".read-text").text(Math.round(b)+
"%"),a(".read-text").css({opacity:1,bottom:"0"}),a(".read-bar").css({opacity:1,height:settings.height+"px"}),clearTimeout(a.data(this,"scrollTimer")),a.data(this,"scrollTimer",setTimeout(function(){a(".read-bar").animate({opacity:.8,height:settings.height/2+"px"},150);a(".read-text").animate({opacity:0,bottom:"-"+10*settings.height+"px"},140)},250)))})}})(jQuery);
